spring.application.name=code-test
# 문제: 환경(local/prod)에 따라 위험도가 다른 설정이 단일 application.properties에 고정되어 있음
# 원인: h2-console, show-sql, ddl-auto=update 등은 로컬 편의 설정인데 운영/공유환경에서도 그대로 적용될 여지가 있음
# 개선안: spring.profiles.active 기반으로 application-local.properties, application-prod.properties로 분리


# --- H2 DataSource ---
# REVIEW
# 문제: H2 불필요한 설정
# 원인: DB_CLOSE_ON_EXIT=FALSE
# 개선안: 안메모리 방식의 H2에서는 불필요한 설정
#       메모리 방식의 H2에서는 애플리케이션 종료 시점에 DB가 종료되므로
#       해당 설정은 제거해도 무방
spring.datasource.url=jdbc:h2:mem:codetest;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# --- H2 Console ---
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# --- JPA / Hibernate ---
# REVIEW
# 문제: Hibernate DDL
# 원인: spring.jpa.hibernate.ddl-auto 설정
# 개선안: 개발/로컬에서는 update 편의성이 좋지만
#       운영 환경에서는 데이터 손실 위험이 있어
#       운영 환경에서는 validate 또는 none으로 설정 권장
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# --- SQL init (disable if you don?t have schema.sql/data.sql) ---
spring.sql.init.mode=never
